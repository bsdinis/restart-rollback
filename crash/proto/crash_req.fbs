include "crash.fbs";

namespace paxos_sgx.crash;

table TransferArgs {
    account : int64;
    to      : int64;
    amount  : int64;
}

table ClientGetArgs {
    account : int64;
}

table ReplicaGetArgs {
    account : int64;
}

table PingArgs { }

table CloseArgs { }

union ReqArgs {
    TransferArgs,
    ClientGetArgs,
    ReplicaGetArgs,
    PingArgs,
    CloseArgs,
}

table BasicRequest {
    type    : ReqType;
    ticket  : int64;
    args    : ReqArgs;
}

root_type BasicRequest;
